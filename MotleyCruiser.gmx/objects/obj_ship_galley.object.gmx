<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Draw the map
texture_set_interpolation(false);

// Resize

var wall_bg = bg_walltiles;

// Set the global.grid width and height
var width = room_width div CELL_WIDTH;
var height = room_height div CELL_HEIGHT;

// Create the DS global.grid
global.grid = ds_grid_create(width, height);

// Create the pathfinding global.grid
global.grid_path = mp_grid_create(0,0,width,height,CELL_WIDTH,CELL_HEIGHT);

// Fill the global.grid with VOID
ds_grid_set_region(global.grid, 0, 0, width, height, VOID);

// Find floor objects that were placed and update the global.grid with their location.
for(var i = 0; i &lt; instance_number(obj_floor); i++) {
    var wall = instance_find(obj_floor,i);
    wx = wall.x / CELL_WIDTH;
    wy = wall.y / CELL_HEIGHT;
    global.grid[# wx, wy] = FLOOR;
}

// Draw the level
scr_add_wall_tiles(height,width);

populated = false;

if(instance_exists(obj_player_start)){
    var px = obj_player_start.x;
    var py = obj_player_start.y;
    
    instance_create(px,py,obj_player);    
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(!populated){
    populated = true;
    var s_count = instance_number(obj_sentient);
        
    for(var i = 0; i &lt; s_count; i++) {
    
        var sentient = instance_find(obj_sentient,i);
        
        if(sentient.name==noone){
    
            if( is_array(global.crew) &amp;&amp; i&lt;array_length_1d(global.crew)){
                sentient.active = 1;//Set to active so the placeholder object won't delete itself. See obj_sentient.
                //var npc = scr_make_npc(global.landed_type + "," + string(global.landed_on) + "," + string(global.current_sector_row) + "," + string(global.current_sector_col));
                var npc = global.crew[i];
                
                sentient.npc_data = npc;
                with(sentient){
                    scr_npc_map_to_object();
                }

                if(npc[NPC_RACE_INDEX]!=5 &amp;&amp; npc[NPC_RACE_INDEX]!=7){
                    // I like Pudnings to move
                    sentient.image_speed = 0;
                }
                
            }else{
                sentient.active=0
            }          
    
        }
            
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
