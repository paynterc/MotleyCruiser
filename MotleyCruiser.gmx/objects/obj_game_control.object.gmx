<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>-1</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Init

// This object is placed in rm_init. It is persistant and enables things like game settings
global.paused = false;
global.game_loaded = noone;

// Baseline npc settings.
global.min_spd = 1; //minimum run speed for npc
global.min_hp = 5; //minimum hp for npc

global.min_station_npc = 3; //minimum npcs per station
global.max_station_npc = 10; //max npcs per station

// Basesline ship settings
global.ship_min_turn_spd=1;
global.ship_max_turn_spd=10;
global.ship_min_spd=1;
global.ship_max_spd=10;
global.ship_max_spd_fwd=10;
global.ship_max_spd_rvs=8;
global.ship_min_acc=0.1;
global.ship_max_acc=1;
global.ship_min_shields=0;
global.ship_max_shields=200;
global.ship_min_hull=5;
global.ship_max_hull=100;
global.ship_min_energy = 500;
global.ship_max_energy = 1000;
global.ship_min_weapon_spd = 3;
global.ship_max_weapon_spd = 0.1;

// Defaults can be reduced, but not beneath the min
global.ship_default_turn_spd=3;
global.ship_default_shields=100;
global.ship_default_shields=100;
global.ship_default_shields_regen_speed=3;
global.ship_default_shields_regen_points=5;
global.ship_default_energy_regen_speed=1;
global.ship_default_energy_regen_points=5;

global.radar_range=500;
global.box_height = 100;




/****************************************************************/
/*                      BASELINE GALAXY SETTINGS                */
/****************************************************************/
global.galaxy_width = 20;
global.sector_width = 10000;//width in pixels of space combat room

global.hull_repair_cost = 10; // Cost per hull unit

scr_new_game_defaults();

scr_faction_centers();

/****************************************************************/
/*                      DYNAMIC PLAYER DATA                     */
/****************************************************************/

// PLAYER SHIP: An array containing current ship state.
global.player_ship = noone;

// PLAYER FLEET: An array of ships in the fleet and their current state.
global.fleet = noone;

// PLAYER CREW: An array of arrays for crew. Maybe a dsmap or dslist.
global.crew = noone;
    
// PLAYER MISSIONS: An array of ds_maps for missions
global.mission_id = 1000; //A number to start mission ids with. Increment this with each mission granted.
global.missions = noone;
global.objective_inc = 100

global.bullet_time=false;
global.speed_mod = 1;

// Money
global.credits = 1000;

// Time
global.day = 0;

// Inventory
global.base_inventory_rows = 20;
global.equipped = ds_map_create();
scr_hotbar_init();


/****************************************************************/
/*                      MENUS                                   */
/****************************************************************/
scr_pause_menu();


/****************************************************************/
/*                      ROOM LEVELS                             */
/****************************************************************/
scr_reset_room_random();



/****************************************************************/
/*                      SPACE LEVELS                            */
/****************************************************************/
global.ship_boarded = noone; // Should be an array of ship data from scr_make_ship;
global.new_ship = false; // Set to true if this is a new game


/****************************************************************/
/*                      LIBRARIES                               */
/****************************************************************/

// RACES
global.races = scr_races();

//Ships
scr_ships();

// Ship Modules
scr_modules();

//Scaffolds
global.scaffolds = scr_scaffolds();

//Ship Guns
scr_guns();

//Ship Turrets
scr_ship_turrets();

//Dialogue
scr_sentences();

//NPC Traits
scr_npc_traits_library();

scr_npc_occupation_library();


</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Controller settings
global.pad = 0; // controller index
if gamepad_is_connected(global.pad){
    gamepad_set_axis_deadzone(global.pad, 0.5);
    gamepad_set_button_threshold(global.pad, 0.5);
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Set GUI size
//scr_resize_gui();
scr_set_gui_vars()
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Particle System

global.Particles = part_system_create();
part_system_depth(global.Particles, -100000 );


global.f1 = part_type_create();
part_type_shape(global.f1, pt_shape_smoke);
part_type_life(global.f1, room_speed*.25, room_speed*.50);
part_type_speed(global.f1, 5, 10, 0, .25);
part_type_scale(global.f1, .25, .25);
part_type_size(global.f1, .05, .10, 0.10, 0.01);
part_type_color2(global.f1,c_yellow,c_red);
part_type_alpha3(global.f1,1,0.8,0);
part_type_blend(global.f1,1);

global.ptcl_hole = part_type_create();
part_type_shape(global.ptcl_hole, pt_shape_ring);
part_type_life(global.ptcl_hole, room_speed*.15, room_speed*.25);
part_type_speed(global.ptcl_hole, 1, 3, 0, .25);
part_type_scale(global.ptcl_hole, .50, .50);
part_type_size(global.ptcl_hole, .25, 1, 0.10, 0.01);
part_type_color2(global.ptcl_hole,c_aqua,c_black);
part_type_alpha3(global.ptcl_hole,1,0.8,0);
part_type_blend(global.ptcl_hole,1);


</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Equipment
/***
global.equipped = ds_map_create();
ds_map_add(global.equipped, "weapon", 55);
ds_map_add(global.equipped, "hot1", 42);
ds_map_add(global.equipped, "hot2", 2);
ds_map_add(global.equipped, "hot3", 53);
***/
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// User input
if(scr_user_input("pause")){   
    if(room!=rm_main_menu){
        global.paused = !global.paused;
    
        /// Show/hide the paused game menu
    
        panel_pause[4] = global.paused;
        if(!global.paused){
            panel_load_game[4]=false;
        }
    }

}

if(scr_user_input("goto_ship_edit")){
    room_goto(rm_ship_edit);
}

if(scr_user_input("goto_space")){
    room_goto("rm_space");
}

if(scr_user_input("fullscreen")){
    if (!window_get_fullscreen()){
        window_set_fullscreen(true);

        scr_resize_gui();   
        scr_pause_menu();
        if(instance_exists(obj_main_menu)){
            with(obj_main_menu){
                scr_main_menu();
                scr_load_game_menu();//panel_load_game
                panel_main_menu[4]  = true;//Show menu
            }
        }

    }else{
       window_set_fullscreen(false);
       
       scr_resize_gui();       
       scr_pause_menu();
       if(instance_exists(obj_main_menu)){
            with(obj_main_menu){

                scr_main_menu();
                scr_load_game_menu();//panel_load_game
                panel_main_menu[4]  = true;//Show menu
            }
        }

       
    }
}

if(scr_user_input("goto_shiplevel")){
    room_goto(rm_ship_deck_rnd);
}




</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Check hover status on menus
if(panel_pause[4]){
    scr_gui_button_state(panel_pause);
}

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(window_get_width()!=display_get_gui_width()){
    display_set_gui_size(window_get_width(), window_get_height());
           if(instance_exists(obj_main_menu)){
            with(obj_main_menu){

                scr_main_menu();
                scr_load_game_menu();//panel_load_game
                panel_main_menu[4]  = true;//Show menu
            }
        }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="53">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// See if gui button was pressed.
if(panel_pause[4]){
    var pause_menu_button = scr_gui_button_click(panel_pause);
    if(pause_menu_button==0){
        global.paused = false;
        panel_pause[4] = false;
    }else if(pause_menu_button==1){
        // HELP MENU
    }else if(pause_menu_button==2){
        // SETTINGS MENU
    }else if(pause_menu_button==3){
        // MAIN MENU
        global.paused = false;
        room_goto(rm_main_menu);
    }
    
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Close menus
scr_pause_menu();
panel_pause[4]=false;
panel_load_game[4]=false;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="3">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Destroy stuff

if part_system_exists(global.Particles)
{
   part_system_destroy(global.Particles);
}

if part_type_exists(global.f1)
{
    part_type_destroy(global.f1);
}

if part_type_exists(global.ptcl_hole)
{
    part_type_destroy(global.ptcl_hole);
}

if(ds_exists(global.equipped,ds_type_map)){
    ds_map_destroy(global.equipped);
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="64">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Debug text
    draw_set_color(c_lime);
    
    if(global.paused){
        draw_set_valign(fa_center);
        draw_text(display_get_gui_width() / 2, 32, "-- PAUSED --");
    }

    draw_set_valign(fa_left);
    draw_text(48, 32, "FPS Real: " + string(fps_real));
/***

    draw_text(48, 64, "D WIDTH: " + string(display_get_width()));
    draw_text(48, 96, "D height: " + string(display_get_height()));
    
    draw_text(48, 128, "G WIDTH: " + string(display_get_gui_width()));
    draw_text(48, 160, "G height: " + string(display_get_gui_height()));
    
    draw_text(48, 192, "W WIDTH: " + string(window_get_width()));
    draw_text(48, 224, "W height: " + string(window_get_height()));
    
    
    

    if(instance_exists(obj_player_ship)){
        draw_text(32, 64, "Decks Remaining: " + string(global.decks_remaining));
        draw_text(32, 96, "Mass: " + string(obj_player_ship.mass));
        draw_text(32, 128, "MaxFwd: " + string(obj_player_ship.max_spd_fwd));
        draw_text(32, 140, "EN: " + string(obj_player_ship.energy_regen_points));
    }
***/
   

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Menu Panels
scr_gui_draw_panel(panel_pause);
scr_gui_draw_panel(panel_load_game);
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
