<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Init
horizon = 207;
background_colour= c_black;
background_showcolour = true;
background_blend=c_black;
depth_ship=-1;
depth_window=-2;
depth_person=-3;
depth_house=-4000;
hsv = make_color_hsv(0,0,0);

event_user(0);

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="7">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Old salt talking
str1 = "Blown off course and without maps of the local system, he has no way to find his way back, but doesn't much seem to care. He's tired of the spacefaring life and ready to live out his remaining years with firm soil beneath his feet. Problem is, he has no land or property. You're a farmer, right? He offers a trade. Your farm for his ship."
scr_flywriter(str1,noone,false,"4,Hell yeah!,No thanks",self,224);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="6">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Old Salt intro
if(instance_exists(obj_intro_old_salt)){
    with(obj_intro_old_salt){
        x=room_width;
        image_alpha=1;
        image_speed = .25;
        image_xscale=-1;
    }
    str1 = "A stranger has arrived in town. You strike up a conversation with him and learn that he is a starship captain from a distant sector."
    scr_flywriter(str1,noone,true,noone,self,224);
    state="old_salt_walking";
    alarm[7]=room_speed * 8;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="5">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Sunrise
state = "sunrise";
show_debug_message("sunrise");
if(instance_exists(obj_flybox)){
    with(obj_flybox){
        destroy=true;
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Show player
if(instance_exists(obj_intro_player)){
    with(obj_intro_player){
        image_blend=c_black;
        x=0;
        image_alpha=1;
    }
}

state="player_running";
    
str1 = "If only you could get off this planet. You'd go after those killers and show them the true meaning of regret."
scr_flywriter(str1,noone,false,noone,self,224);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="3">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Taking family
str1 = "A year ago they took your family. Leaving you alone to tend the farm. Where they are now is anyone's guess."
scr_flywriter(str1,noone,false,noone,self,224);
state = "march_family";
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Ship has landed. Second text. Pirates take family
with(obj_intro_window){
    image_blend=c_white;
}
pirate1=instance_create(pship.x,horizon,obj_intro_pirate);
pirate2=instance_create(pship.x-24,horizon,obj_intro_pirate);
pirate3=instance_create(pship.x+24,horizon,obj_intro_pirate);
with(obj_intro_pirate){
    depth=obj_intro_control.depth_person;
    image_speed = .25;
    image_xscale=-1;
}

state="pirates_charging";


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Pirate ship lands
if(instance_exists(obj_flybox)){
    with(obj_flybox){
        destroy=true;
    }
}
pfire = instance_create(pship.x,pship.y,obj_piratefire);
pfire.depth=-100000;
state = "pshiplanding";


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// First text, show horizon
str1 = "Raised on a backwater world in a backwater arm of the galaxy, you don't know much about space. You know there are ships that travel between the stars, but your only experience with them has been the pirates that land occasionally, take what they want, and leave."
scr_flywriter(str1,noone,true,noone,self,224);
if(instance_exists(obj_horizon)){
    obj_horizon.showme=true;
}
alarm[1]=room_speed * 15;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Condition selected
if(state=="pshiplanding"){
    with(pship){
        y+=20/room_speed;
    }
    if(instance_exists(pfire)){
        pfire.x=pship.x;
        pfire.y=pship.y;
    }
    
    
    if( pship.y &gt;= horizon ){
        state = "pshiplanded";
        if(instance_exists(pfire)){
            with(pfire){
                image_alpha=0;
            }
        }
        alarm[2]=1;
    }
    
    
}else if(state=="pirates_charging"){
    if(instance_exists(obj_intro_pirate)){
        with(obj_intro_pirate){
            x-=60/room_speed;
            if(place_meeting(x,y,obj_intro_parent1)){
                obj_intro_control.state="found_family";
            }    
        }
    }
}else if(state=="found_family"){

    if(instance_exists(obj_intro_parent1)){
        with(obj_intro_parent1){
            image_alpha=1;
        }
    }    
    state="family_wating";
    alarm[3]=room_speed;
    
}else if(state=="march_family"){
    
    if(instance_exists(obj_intro_parent1)){
        with(obj_intro_parent1){
            x+=60/room_speed; 
        }
    }
    
    with(obj_prop_house){
        if(!place_meeting(x,y,obj_intro_parent1)){

            if(instance_exists(obj_intro_pirate)){
                with(obj_intro_pirate){
                    image_xscale = 1;
                }
            }          
            obj_intro_control.state="march_all"; 
              
        }
    }
    
}else if(state=="march_all"){
    
    if(instance_exists(obj_intro_parent1)){
        with(obj_intro_parent1){
            if(place_meeting(x,y,obj_pirateship1)){
                image_alpha=0;
            }else{
                x+=60/room_speed;
            } 
        }
    }
    
    if(instance_exists(obj_intro_pirate)){
        with(obj_intro_pirate){
            if(place_meeting(x,y,obj_pirateship1)){
                instance_destroy();
            }else{
                x+=60/room_speed;
            } 
        }
    }
    

    var pirate_count = instance_number(obj_intro_pirate);
    if(pirate_count&lt;1){
        state="pirates_boarded";
    }
    
}else if(state=="pirates_boarded"){


        
        if(instance_exists(pfire)){
            with(pfire){
                image_alpha=1;
            }
        }
        alarm[4]=room_speed*3;       
        state="pirateship_leaving";
        

}else if(state=="pirateship_leaving"){

    with(pship){
        y-=20/room_speed;
    }
    if(instance_exists(pfire)){
        pfire.x=pship.x;
        pfire.y=pship.y;
    }

}else if(state=="player_running"){

    with(pship){
        y-=20/room_speed;
    }
    if(instance_exists(pfire)){
        pfire.x=pship.x;
        pfire.y=pship.y;
    }

    if(instance_exists(obj_intro_player)){
         
        if(obj_intro_player.x&gt;= room_width/2){
            obj_intro_player.image_speed = 0;
            state="player_waiting";
        }else{
            obj_intro_player.x+=80/room_speed;
        } 

    }
    
}else if(state=="player_waiting"){

    with(pship){
        y-=30/room_speed;
    }
    if(instance_exists(pfire)){
        pfire.x=pship.x;
        pfire.y=pship.y;
    }

    if( pfire.y &lt; 0 - pfire.sprite_height ){
        alarm[5]=room_speed;
        state="ship_offscreen";
    }
    

}else if(state=="sunrise"){
    value += round(20/room_speed);
    
    hsv = make_color_hsv(0,0,value);
    if(instance_exists(obj_intro_player)){
        with(obj_intro_player){
            image_blend = obj_intro_control.hsv;
        }
    }

    if(instance_exists(obj_prop_house)){
        with(obj_prop_house){
            image_blend = obj_intro_control.hsv;
        }
    }
    
    hsv_neg = make_color_hsv(0,0,255-value);
    if(instance_exists(obj_intro_window)){
        with(obj_intro_window){
            image_blend = obj_intro_control.hsv_neg;
        }
    }
    
    background_blend=hsv;
    if(value&gt;=255){
        state="morning";
        alarm[6]=1;
    }

}else if(state="old_salt_walking"){

    if(instance_exists(obj_intro_old_salt)){
        obj_intro_old_salt.x -= 40/room_speed;
        if(obj_intro_old_salt.x &lt;= obj_intro_player.x+32){
            obj_intro_old_salt.image_speed=0;
            state="old_salt_talking";
        }
    }
}else if(state="oldgirl_descending"){
    
    with(obj_intro_oldgirl){
        y+=20/room_speed;
    }
    if(instance_exists(obj_ogfire)){
        with(obj_ogfire){
            y=obj_intro_oldgirl.y;
        }
    }
    
    
    if( obj_intro_oldgirl.y &gt;= horizon ){

        if(instance_exists(obj_ogfire)){
            with(obj_ogfire){
                image_alpha=0;
            }
        }
        state = "oldgirl_landed";
    }

}

if(fly_conditionals != noone){
    
    if( fly_conditionals[0]==1 )
    {
        
        fly_conditionals[0]=0;
        str1 = "A year ago they took your family. Leaving you alone to tend the farm. Where they are now is anyone's guess."
        scr_flywriter(str1,noone,false,"1,Continue",self,224);
        alarm[1]=1;
        
    }
    else if( fly_conditionals[1]==1 )
    {
        fly_conditionals[1]=0;
        str1 = "If only you could get off this planet. You'd go after those killers and show the true meaning of regret."
        scr_flywriter(str1,noone,false,"2,Continue",self,224);
    }
    else if( fly_conditionals[2]==1 )
    {
        fly_conditionals[2]=0;
        str1 = "A stranger has arrived in town. You strike up a conversation with him and learn that he is a starship captain from a distant sector."
        scr_flywriter(str1,noone,true,"3,Continue",self,224);
    }
    else if( fly_conditionals[3]==1 )
    {
        fly_conditionals[3]=0;
        str1 = "Blown off course and without maps of the local system, he has no way to find his way back, but doesn't much seem to care. He's tired of the spacefaring life and ready to live out his remaining years with firm soil beneath his feet. Problem is, he has no land or property. You're a farmer, right? He offers a trade. Your farm for his ship."
        scr_flywriter(str1,noone,false,"4,Hell yeah!,No thanks",self,224);
    }
    else if( fly_conditionals[4]==1 )
    {
        fly_conditionals[4]=0;
        str1 = "Allright then. Let me show you around the old girl."
        scr_flywriter(str1,noone,false,"5,Continue",self,224);
        
        if(instance_exists(obj_intro_oldgirl)){
            with(obj_intro_oldgirl){
                image_alpha=1;
            }
        }
        
        if(instance_exists(obj_ogfire)){
            with(obj_ogfire){
                image_alpha=1;
            }
        }
        state="oldgirl_descending";
        
    }
    else if( fly_conditionals[4]==2 )
    {
        fly_conditionals[4]=0;
        str1 = "How disappointing. I hope someone more interesting comes along soon."
        scr_flywriter(str1,noone,true,"4,No! wait!",self,224);
    }
    else if( fly_conditionals[5]==1 )
    {
        fly_conditionals[5]=0;
        room_goto(rm_space);
    }
}



</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Reset and start
state = "begin";
fly_conditionals = noone;
fly_conditionals = scr_array(0,0,0,0,0,0);


value=0;//color value
background_blend=c_black;

if(instance_exists(obj_horizon)){
    obj_horizon.showme=false;
    obj_horizon.alph=0;
    with(obj_flybox){
        destroy = true;
    }
}

if(instance_exists(obj_prop_house)){
    obj_prop_house.depth = depth_house;
    obj_prop_house.image_blend = c_black;
}


pship = obj_pirateship1;
pship.y=0;
pship.depth = depth_ship;
if(instance_exists(obj_piratefire)){
    with(obj_piratefire){
        //instance_destroy();
    }
}

if(instance_exists(obj_intro_window)){
    with(obj_intro_window){
        image_blend=c_black;
        depth = obj_intro_control.depth_window;
    }
}

if(instance_exists(obj_intro_parent1)){
    with(obj_intro_parent1){
        image_alpha=0;
        depth = obj_intro_control.depth_person;
        image_speed = .25;
    }
}

if(instance_exists(obj_intro_pirate)){
    with(obj_intro_pirate){
        instance_destroy();
    }
}

if(instance_exists(obj_intro_player)){
    with(obj_intro_player){
        image_blend=c_black;
        x=0;
        image_alpha=0;
        image_speed = .25;
    }
}

if(instance_exists(obj_intro_old_salt)){
    with(obj_intro_old_salt){
        x=room_width;
        image_alpha=0;
        image_speed = .25;
        image_xscale=-1;
    }
}

if(instance_exists(obj_intro_oldgirl)){
    with(obj_intro_oldgirl){
        x=room_width/2;
        image_alpha=0;
        image_speed = .10;
        y=0;
    }
    if(instance_exists(obj_ogfire)){
        with(obj_ogfire){
            image_alpha=0;
            y=obj_intro_oldgirl.y;
        }
    
    }
}



alarm[0] = room_speed * 3;// Start movie
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="32">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Reset
event_user(0);
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
